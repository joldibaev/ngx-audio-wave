<section>
  <h3>Basic Usage</h3>
  <div>
    Progress: {{ ngxAudioWave.exactPlayedPercent() | number: '1.1-1' }}%
  </div>
  <div>
    Time: {{ ngxAudioWave.exactCurrentTime() | number: '1.1-1' }}s /
    {{ ngxAudioWave.exactDuration() | number: '1.1-1' }}s
  </div>
  <div>Status: {{ ngxAudioWave.statusText() }}</div>

  <ngx-audio-wave
    #ngxAudioWave
    [audioSrc]="audioSrcLink()"
    ariaLabel="Basic audio player demo"
  ></ngx-audio-wave>
</section>

<section>
  <h3>SafeUrl Support</h3>
  <p>Using DomSanitizer for secure URL handling</p>

  <ngx-audio-wave
    #ngxAudioWaveSafe
    [audioSrc]="audioSrcLinkSafeUrl()"
    ariaLabel="Safe URL audio player"
  ></ngx-audio-wave>
</section>

<!-- Custom Styling -->
<section>
  <h3>Custom Styling</h3>

  <div>
    <h4>Width Constraint</h4>
    <div style="width: 200px; border: 1px solid #ddd; padding: 10px">
      <ngx-audio-wave
        [audioSrc]="audioSrc()"
        ariaLabel="Width constrained player"
      ></ngx-audio-wave>
    </div>
  </div>

  <div>
    <h4>Rounded vs Square</h4>
    <p>Rounded (default):</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      ariaLabel="Rounded bars player"
    ></ngx-audio-wave>

    <p>Square:</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [rounded]="false"
      ariaLabel="Square bars player"
    ></ngx-audio-wave>
  </div>

  <div>
    <h4>Custom Color</h4>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      ariaLabel="Red colored player"
      color="#ee2133"
    ></ngx-audio-wave>
  </div>
</section>

<!-- Loading States -->
<section>
  <h3>Loading States</h3>
  <ngx-audio-wave
    #audioRef
    [audioSrc]="audioSrc()"
    ariaLabel="Loading state demo"
  ></ngx-audio-wave>

  @if (!audioRef.isLoading()) {
    <div class="audio-info">
      <p>âœ… Audio loaded successfully!</p>
      <p>
        Duration: {{ audioRef.exactCurrentTime() | toTimer }} /
        {{ audioRef.exactDuration() | toTimer }}
      </p>
      <p>Status: {{ audioRef.statusText() }}</p>
    </div>
  } @else {
    <div class="loading-info">
      <p>â³ Loading audio...</p>
    </div>
  }
</section>

<!-- Custom Controls -->
<section>
  <h3>Custom Controls</h3>

  <div>
    <h4>Hide Default Button</h4>
    <ngx-audio-wave
      #audioRef1
      [audioSrc]="audioSrc()"
      [hideBtn]="true"
      ariaLabel="Custom controls player"
    ></ngx-audio-wave>

    <div class="custom-controls">
      <button class="control-btn" (click)="audioRef1.play()">â–¶ï¸ Play</button>
      <button class="control-btn" (click)="audioRef1.pause()">â¸ï¸ Pause</button>
    </div>
  </div>

  <div>
    <h4>
      Toggle Button (Status: {{ audioRef2.isPaused() ? 'Paused' : 'Playing' }})
    </h4>
    <ngx-audio-wave
      #audioRef2
      [audioSrc]="audioSrc()"
      [hideBtn]="true"
      ariaLabel="Toggle controls player"
    ></ngx-audio-wave>

    <div class="custom-controls">
      @if (audioRef2.isPaused()) {
        <button class="control-btn" (click)="audioRef2.play()">â–¶ï¸ Play</button>
      } @else {
        <button class="control-btn" (click)="audioRef2.pause()">
          â¸ï¸ Pause
        </button>
      }
      <button class="control-btn" (click)="audioRef2.stop()">â¹ï¸ Stop</button>
    </div>
  </div>
</section>

<!-- Volume Control -->
<section>
  <h3>Volume Control</h3>

  <div>
    <h4>Basic Volume Control</h4>
    <ngx-audio-wave
      #volumePlayer
      [audioSrc]="audioSrc()"
      [volume]="0.7"
      ariaLabel="Volume control demo"
    ></ngx-audio-wave>

    <div class="volume-info">
      <p>Current volume: {{ volumePlayer.currentVolume() | percent }}</p>
    </div>

    <div class="custom-controls">
      <button class="control-btn" (click)="volumePlayer.mute()">ğŸ”‡ Mute</button>
      <button class="control-btn" (click)="volumePlayer.unmute()">ğŸ”Š Unmute</button>
      <button class="control-btn" (click)="volumePlayer.toggleMute()">ğŸ”Š/ğŸ”‡ Toggle</button>
    </div>
  </div>

  <div>
    <h4>Volume Levels</h4>
    <ngx-audio-wave
      #volumeLevels
      [audioSrc]="audioSrc()"
      [hideBtn]="true"
      ariaLabel="Volume levels demo"
    ></ngx-audio-wave>

    <div class="volume-info">
      <p>Current volume: {{ volumeLevels.currentVolume() | percent }}</p>
    </div>

    <div class="custom-controls">
      <button class="control-btn" (click)="volumeLevels.setVolume(0)">ğŸ”‡ 0%</button>
      <button class="control-btn" (click)="volumeLevels.setVolume(0.25)">ğŸ”‰ 25%</button>
      <button class="control-btn" (click)="volumeLevels.setVolume(0.5)">ğŸ”Š 50%</button>
      <button class="control-btn" (click)="volumeLevels.setVolume(0.75)">ğŸ”Š 75%</button>
      <button class="control-btn" (click)="volumeLevels.setVolume(1)">ğŸ”Š 100%</button>
    </div>
  </div>

  <div>
    <h4>Initial Volume Settings</h4>
    <p>Player with 30% initial volume:</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [volume]="0.3"
      ariaLabel="Low volume player"
    ></ngx-audio-wave>

    <p>Player with 80% initial volume:</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [volume]="0.8"
      ariaLabel="High volume player"
    ></ngx-audio-wave>
  </div>
</section>

<!-- Playback Speed Control -->
<section>
  <h3>Playback Speed Control</h3>

  <div>
    <h4>Basic Speed Control</h4>
    <ngx-audio-wave
      #speedPlayer
      [audioSrc]="audioSrc()"
      [playbackRate]="1.2"
      ariaLabel="Speed control demo"
    ></ngx-audio-wave>

    <div class="speed-info">
      <p>Current speed: {{ speedPlayer.currentPlaybackRate() }}x</p>
    </div>

    <div class="custom-controls">
      <button class="control-btn" (click)="speedPlayer.decreasePlaybackRate()">âª Slower</button>
      <button class="control-btn" (click)="speedPlayer.resetPlaybackRate()">1x Normal</button>
      <button class="control-btn" (click)="speedPlayer.increasePlaybackRate()">â© Faster</button>
    </div>
  </div>

  <div>
    <h4>Speed Levels</h4>
    <ngx-audio-wave
      #speedLevels
      [audioSrc]="audioSrc()"
      [hideBtn]="true"
      ariaLabel="Speed levels demo"
    ></ngx-audio-wave>

    <div class="speed-info">
      <p>Current speed: {{ speedLevels.currentPlaybackRate() }}x</p>
    </div>

    <div class="custom-controls">
      <button class="control-btn" (click)="speedLevels.setPlaybackRate(0.5)">ğŸŒ 0.5x</button>
      <button class="control-btn" (click)="speedLevels.setPlaybackRate(0.75)">ğŸš¶ 0.75x</button>
      <button class="control-btn" (click)="speedLevels.setPlaybackRate(1)">ğŸš¶ 1x</button>
      <button class="control-btn" (click)="speedLevels.setPlaybackRate(1.25)">ğŸƒ 1.25x</button>
      <button class="control-btn" (click)="speedLevels.setPlaybackRate(1.5)">ğŸƒ 1.5x</button>
      <button class="control-btn" (click)="speedLevels.setPlaybackRate(2)">ğŸƒâ€â™‚ï¸ 2x</button>
    </div>
  </div>

  <div>
    <h4>Initial Speed Settings</h4>
    <p>Player with 0.75x initial speed (for slow speech):</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [playbackRate]="0.75"
      ariaLabel="Slow speed player"
    ></ngx-audio-wave>

    <p>Player with 1.5x initial speed (for fast content):</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [playbackRate]="1.5"
      ariaLabel="Fast speed player"
    ></ngx-audio-wave>
  </div>
</section>

<!-- Loop Control -->
<section>
  <h3>Loop Control</h3>

  <div>
    <h4>Basic Loop Control</h4>
    <ngx-audio-wave
      #loopPlayer
      [audioSrc]="audioSrc()"
      [loop]="false"
      ariaLabel="Loop control demo"
    ></ngx-audio-wave>

    <div class="loop-info">
      <p>Looping: {{ loopPlayer.isLooping() ? 'ğŸ”„ Enabled' : 'â¹ï¸ Disabled' }}</p>
    </div>

    <div class="custom-controls">
      <button class="control-btn" (click)="loopPlayer.enableLoop()">ğŸ”„ Enable Loop</button>
      <button class="control-btn" (click)="loopPlayer.disableLoop()">â¹ï¸ Disable Loop</button>
      <button class="control-btn" (click)="loopPlayer.toggleLoop()">ğŸ”„/â¹ï¸ Toggle Loop</button>
    </div>
  </div>

  <div>
    <h4>Auto-Loop Examples</h4>
    <p>Background music with auto-loop enabled:</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [loop]="true"
      [volume]="0.3"
      ariaLabel="Background music with auto-loop"
    ></ngx-audio-wave>

    <p>Sound effect with auto-loop (short clip):</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [loop]="true"
      [volume]="0.5"
      [height]="15"
      ariaLabel="Looping sound effect"
    ></ngx-audio-wave>
  </div>

  <div>
    <h4>Dynamic Loop Control</h4>
    <ngx-audio-wave
      #dynamicLoop
      [audioSrc]="audioSrc()"
      [hideBtn]="true"
      ariaLabel="Dynamic loop control demo"
    ></ngx-audio-wave>

    <div class="loop-info">
      <p>Looping: {{ dynamicLoop.isLooping() ? 'ğŸ”„ Enabled' : 'â¹ï¸ Disabled' }}</p>
    </div>

    <div class="custom-controls">
      <button 
        class="control-btn" 
        [class.active]="dynamicLoop.isLooping()"
        (click)="dynamicLoop.toggleLoop()">
        {{ dynamicLoop.isLooping() ? 'ğŸ”„ Stop Looping' : 'ğŸ”„ Start Looping' }}
      </button>
      <button class="control-btn" (click)="dynamicLoop.play()">â–¶ï¸ Play</button>
      <button class="control-btn" (click)="dynamicLoop.pause()">â¸ï¸ Pause</button>
    </div>
  </div>
</section>

<!-- Dimensions -->
<section>
  <h3>Dimensions</h3>

  <div>
    <h4>Different Heights</h4>
    <p>Height: 25px (default)</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      ariaLabel="Default height player"
    ></ngx-audio-wave>

    <p>Height: 50px</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [height]="50"
      ariaLabel="Medium height player"
    ></ngx-audio-wave>

    <p>Height: 100px</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [height]="100"
      ariaLabel="Tall height player"
    ></ngx-audio-wave>

    <p>Height: 10px</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [height]="10"
      ariaLabel="Short height player"
    ></ngx-audio-wave>
  </div>

  <div>
    <h4>Different Gaps</h4>
    <p>Gap: 1px</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [gap]="1"
      ariaLabel="Tight gap player"
    ></ngx-audio-wave>

    <p>Gap: 5px (default)</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      ariaLabel="Default gap player"
    ></ngx-audio-wave>

    <p>Gap: 10px</p>
    <ngx-audio-wave
      [audioSrc]="audioSrc()"
      [gap]="10"
      ariaLabel="Wide gap player"
    ></ngx-audio-wave>
  </div>
</section>

<!-- Accessibility Features -->
<section>
  <h3>Accessibility Features</h3>
  <p>
    Try using keyboard navigation: Space/Enter to play/pause, Arrow keys to
    skip, Home/End to jump to beginning/end
  </p>

  <ngx-audio-wave
    #accessibilityDemo
    [audioSrc]="audioSrc()"
    ariaLabel="Accessibility demo audio player"
    pauseButtonLabel="Pause demo audio"
    playButtonLabel="Play demo audio"
    progressBarLabel="Audio progress - use arrow keys to navigate"
  ></ngx-audio-wave>

  <div class="keyboard-shortcuts">
    <h4>Keyboard Shortcuts:</h4>
    <ul>
      <li>
        <kbd>Space</kbd>
        or
        <kbd>Enter</kbd>
        : Play/Pause
      </li>
      <li>
        <kbd>â†</kbd>
        <kbd>â†’</kbd>
        : Skip 5 seconds
      </li>
      <li>
        <kbd>Home</kbd>
        : Jump to beginning
      </li>
      <li>
        <kbd>End</kbd>
        : Jump to end
      </li>
    </ul>
  </div>
</section>

<!-- Error Handling -->
<section>
  <h3>Error Handling</h3>
  <p>Example of error state when audio file is not found:</p>
  <ngx-audio-wave
    ariaLabel="Error demo player"
    audioSrc="no_file.mp3"
  ></ngx-audio-wave>
</section>
